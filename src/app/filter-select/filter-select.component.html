<div class="container-fluid filter-container py-5">
    <div class="row mb-4">
        <div class="col-sm-12">
            <h1>I'M LOOKING FOR <span class="filter text-primary" [ngbPopover]="primaryCategorySelectContent"
                    [popoverTitle]="primaryCategorySelectTitle">
                    {{ (currentPrimaryFilter == '' ? 'anything' : currentPrimaryFilter) | uppercase}}
                </span>
                <ng-container *ngFor="let secondaryFilter of currentSecondaryFilters">
                    , <span class="filter text-primary" [ngbPopover]="editSecondaryContent"
                        [popoverTitle]="editSecondaryTitle" (click)="setClickedSecondary(secondaryFilter)">
                        {{secondaryFilter | uppercase}}
                    </span>
                </ng-container>
                &nbsp;&nbsp;&nbsp;
                <button class="btn btn-outline-primary" [ngbPopover]="secondaryCategorySelectContent"
                    [popoverTitle]="secondaryCategorySelectTitle" [autoClose]="false" triggers="manual" #p="ngbPopover"
                    (click)="p.isOpen()? p.close() : p.open()">
                    <i class="bi bi-plus-square"></i>
                    &nbsp;and more
                </button>
            </h1>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-12">
            <h2>and it has to be <span class="filter text-success">fun</span>&nbsp;&nbsp;&nbsp;<button
                    class="btn btn-outline-success">
                    <i class="bi bi-plus-square"></i> &nbsp;and more
                </button>
            </h2>
        </div>
    </div>
</div>

<div class="container-fluid py-4">
    <div class="row">
        <div class="col-sm-12">
            <h1>STARTING <span class="filter text-warning">THIS MARCH</span></h1>
        </div>
    </div>
</div>

<!-- Popover templates -->

<ng-template #primaryCategorySelectTitle>
    Or maybe something like...
</ng-template>
<ng-template #primaryCategorySelectContent>
    <div class="replacement-filter-container d-flex flex-column">
        <div *ngFor="let category of primaryCategories" (click)="OnPrimaryFilterSelect(category)">
            <button class="btn btn-outline-secondary">{{category}}</button>
        </div>
        <div><button class="btn btn-outline-secondary" (click)="currentPrimaryFilter = ''">Anything</button></div>
        <div><button class="btn btn-outline-secondary">ðŸ¤” Oh, nevermind...</button></div>
    </div>
</ng-template>

<ng-template #secondaryCategorySelectTitle>
    <div class="d-flex align-items-center justify-content-between">
        <div>Something like...</div>
        <div><button class="btn btn-sm btn-outline-secondary" (click)="p.close()"> <b>&times;</b> </button></div>
    </div>
</ng-template>
<ng-template #secondaryCategorySelectContent>
    <div class="replacement-filter-container d-flex flex-column">
        <input id="typeahead-basic" type="text" class="form-control" [(ngModel)]="model"
            (selectItem)="OnSecondaryFilterSelect($event); p.close()" [ngbTypeahead]="search" />
        <hr>
        <pre>Model: {{ model | json }}</pre>
    </div>
</ng-template>

<ng-template #editSecondaryTitle>
    <p>On second thought...</p>
</ng-template>
<ng-template #editSecondaryContent>
    <div class="replacement-filter-container d-flex flex-column">
        <div><button class="btn btn-outline-secondary">Keep this</button></div>
        <div><button class="btn btn-outline-secondary" (click)="OnSecondaryFilterRemove()">Remove this</button></div>
    </div>
</ng-template>